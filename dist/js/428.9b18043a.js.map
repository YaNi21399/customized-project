{"version":3,"file":"js/428.9b18043a.js","mappings":"qKAIA,MAAMA,EAAaC,IAEf,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,KACTC,GAASC,EAAAA,EAAAA,IAAIH,EAAI,QAAU,GAAED,KAE7BK,GAAOC,EAAAA,EAAAA,IAAI,CAAC,GAEZC,EAAO,MACTC,EAAAA,EAAAA,IAAOL,GACFM,MAAKL,IACFC,EAAKK,MAAQN,EAAIC,MAAM,GACzB,EAGV,MAAO,CAAEA,OAAME,OAAM,EAGzB,Q,qGCpBOI,MAAM,a,GAEFA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAqD,SAA9CC,IAAI,aAAaF,MAAM,cAAa,MAAE,G,GAQ1CA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAsD,SAA/CC,IAAI,cAAcF,MAAM,cAAa,MAAE,G,0CAZpDG,EAAAA,EAAAA,IAyBM,MAzBNC,EAyBM,EAxBJH,EAAAA,EAAAA,GAuBO,cAtBLA,EAAAA,EAAAA,GAQM,MARNI,EAQM,CAPJC,GAAqD,SACrDL,EAAAA,EAAAA,GAKE,S,qCAJSM,EAAAA,KAAKC,MAAK,GACnBC,KAAK,OACLT,MAAM,eACNX,GAAG,c,iBAHMkB,EAAAA,KAAKC,YAMlBP,EAAAA,EAAAA,GASM,MATNS,EASM,CARJC,GAAsD,SACtDV,EAAAA,EAAAA,GAMY,Y,qCALDM,EAAAA,KAAKK,YAAW,GACzBZ,MAAM,eACNa,YAAY,OACZxB,GAAG,cACHyB,MAAA,kB,iBAJSP,EAAAA,KAAKK,kBAOlBX,EAAAA,EAAAA,GAES,UAFAc,QAAK,eAAER,EAAAA,gBAAgBE,KAAK,SAAST,MAAM,mBAAkB,W,+DAa5E,GACEgB,QACE,MAAM,GAAE1B,IAAOC,EAAAA,EAAAA,KAET0B,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACT/B,EAAK4B,EAAMI,OAAOhC,IAElB,KAAEK,EAAI,KAAEE,IAASR,EAAAA,EAAAA,GAAUC,GAE3BiC,GAAO3B,EAAAA,EAAAA,IAAI,CACfa,MAAO,GACPI,YAAa,MAGfW,EAAAA,EAAAA,KAAY,KACP7B,EAAKK,MAAMS,QACZc,EAAKvB,MAAQ,CAAES,MAAOd,EAAKK,MAAMS,MAAOI,YAAalB,EAAKK,MAAMa,aAClE,IAGF,MAAMY,EAAe,KACnB,MAAMhC,GAASC,EAAAA,EAAAA,IAAIH,EAAI,QAASD,IAChCoC,EAAAA,EAAAA,IAAUjC,EAAQ,CAChBgB,MAAOc,EAAKvB,MAAMS,MAClBI,YAAaU,EAAKvB,MAAMa,cAEvBd,MAAK,IAAMqB,EAAOO,KAAK,UAAS,EAMrC,OAHAC,EAAAA,EAAAA,KAAU,KACR/B,GAAM,IAED,CAAE0B,OAAM5B,OAAM8B,eACvB,G,QChEF,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://customized-project/./src/composables/getSingle.js","webpack://customized-project/./src/views/EditView.vue","webpack://customized-project/./src/views/EditView.vue?eb6a"],"sourcesContent":["import { getDoc, doc } from 'firebase/firestore'\r\nimport firebaseProject from '../firebase/config'\r\nimport { ref } from 'vue'\r\n\r\nconst getSingle = (id) => {\r\n\r\n    const { db } = firebaseProject()\r\n    const docRef = doc(db, 'spots', `${id}`)\r\n\r\n    const data = ref({})\r\n\r\n    const load = () => {\r\n        getDoc(docRef)\r\n            .then(doc => {\r\n                data.value = doc.data()\r\n            })\r\n    }\r\n\r\n    return { data, load }\r\n}\r\n\r\nexport default getSingle","<template>\r\n  <div class=\"container\">\r\n    <form>\r\n      <div class=\"mb-3\">\r\n        <label for=\"inputTitle\" class=\"form-label\">標題</label>\r\n        <input\r\n          v-model=\"temp.title\"\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"inputTitle\"\r\n        />\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"description\" class=\"form-label\">內容</label>\r\n        <textarea\r\n          v-model=\"temp.description\"\r\n          class=\"form-control\"\r\n          placeholder=\"景點敘述\"\r\n          id=\"description\"\r\n          style=\"height: 100px\"\r\n        ></textarea>\r\n      </div>\r\n      <button @click=\"handleUpdate()\" type=\"submit\" class=\"btn btn-primary\">\r\n        編輯\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport firebaseProject from \"../firebase/config\";\r\nimport getSingle from \"../composables/getSingle\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport { ref, watchEffect, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nexport default {\r\n  setup() {\r\n    const { db } = firebaseProject();\r\n\r\n    const route = useRoute();\r\n    const router = useRouter()\r\n    const id = route.params.id;\r\n\r\n    const { data, load } = getSingle(id);\r\n\r\n    const temp = ref({\r\n      title: '',\r\n      description: ''\r\n    })\r\n\r\n    watchEffect(() => {\r\n      if(data.value.title) {\r\n        temp.value = { title: data.value.title, description: data.value.description}\r\n      }\r\n    })\r\n\r\n    const handleUpdate = () => {\r\n      const docRef = doc(db, 'spots', id)\r\n      updateDoc(docRef, {\r\n        title: temp.value.title,\r\n        description: temp.value.description,\r\n      })\r\n        .then(() => router.push('/back'))\r\n    };\r\n\r\n    onMounted(() => {\r\n      load();\r\n    });\r\n    return { temp, data, handleUpdate };\r\n  },\r\n};\r\n</script>\r\n  \r\n  <style lang=\"scss\" scoped>\r\n</style>","import { render } from \"./EditView.vue?vue&type=template&id=1c1c97be\"\nimport script from \"./EditView.vue?vue&type=script&lang=js\"\nexport * from \"./EditView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue練習\\\\customized-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getSingle","id","db","firebaseProject","docRef","doc","data","ref","load","getDoc","then","value","class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$setup","title","type","_hoisted_4","_hoisted_5","description","placeholder","style","onClick","setup","route","useRoute","router","useRouter","params","temp","watchEffect","handleUpdate","updateDoc","push","onMounted","__exports__","render"],"sourceRoot":""}
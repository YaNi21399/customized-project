"use strict";(self["webpackChunkcustomized_project"]=self["webpackChunkcustomized_project"]||[]).push([[786],{6786:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var a=s(3396),n=s(7139);const c={class:"container"},l=(0,a._)("h1",null,"收藏列表",-1),i={class:"row"},r={class:"card"},u={class:"card-body d-flex flex-column"},o=["onClick"],d={class:"h4 fw-bold card-title"},v={class:"card-text"};function p(t,e,s,p,f,b){const w=(0,a.up)("Navbar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(w),(0,a._)("div",c,[l,(0,a._)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.favList,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{key:t.title,class:"col-4"},[(0,a._)("div",r,[(0,a._)("div",u,[(0,a._)("button",{onClick:t=>p.deleteFav(e),type:"button",class:"btn btn-primary align-self-end"}," 已收藏 ",8,o),(0,a._)("h5",d,(0,n.zw)(t.title),1),(0,a._)("p",v,(0,n.zw)(t.description),1)])])])))),128))])])],64)}s(7658);var f=s(7732),b=s(6035),w=s(7493),h=s(4870),_=s(6563),k={components:{Navbar:_.Z},setup(){const t=(0,h.iH)([]),{db:e}=(0,f.Z)(),s=(0,w.v0)(),n=(0,h.iH)(""),c=()=>{null!=s.currentUser&&(n.value=s.currentUser.uid)},l=async s=>{const a=(0,b.JU)(e,"spots",s);await(0,b.QT)(a).then((e=>{t.value.push({...e.data()})}))};let i=[];const r=async()=>{const t=(0,b.JU)(e,"favList",n.value);await(0,b.QT)(t).then((t=>{i=Object.values(t.data());for(let e=0;e<i.length;e++)l(i[e])}))},u=async s=>{t.value.splice(s,1),i.splice(s,1);const a=Object.assign({},i);await(0,b.pl)((0,b.JU)(e,"favList",n.value),a)};return(0,a.bv)((()=>{c(),r()})),{favList:t,deleteFav:u}}},y=s(89);const g=(0,y.Z)(k,[["render",p]]);var m=g}}]);
//# sourceMappingURL=786.3fe88ab4.js.map